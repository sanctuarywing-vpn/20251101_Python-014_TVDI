# å°ç£è‚¡å¸‚ç›£æ§ç³»çµ± - è¡Œæ¥­åˆ†é¡åŠŸèƒ½æ›´æ–°

**æ›´æ–°æ—¥æœŸ**: 2025-12-20  
**åŠŸèƒ½ç‰ˆæœ¬**: 1.1  
**ç‹€æ…‹**: âœ… å®Œæˆ

---

## ğŸ­ æ–°å¢åŠŸèƒ½æ¦‚è¿°

å¯¦ç¾äº†å°ç£è‚¡ç¥¨æŒ‰è¡Œæ¥­åˆ¥åˆ†é¡çš„åŠŸèƒ½ï¼Œæ¯å€‹è¡Œæ¥­ç²¾é¸å¸‚å€¼å‰ 30 å¤§è‚¡ç¥¨ã€‚ç”¨æˆ¶å¯ä»¥å¿«é€Ÿåˆ‡æ›ä¸åŒè¡Œæ¥­ï¼ŒæŸ¥çœ‹è©²è¡Œæ¥­çš„æ‰€æœ‰è‚¡ç¥¨ã€‚

---

## ğŸ“‹ åŠŸèƒ½è©³è§£

### 1ï¸âƒ£ è¡Œæ¥­åˆ¥ä¸‹æ‹‰é¸å–®

**ä½ç½®**: è‚¡ç¥¨æ¸…å–®é¢æ¿å·¦ä¸Šæ–¹ï¼ˆæœå°‹æ¡†ä¸Šæ–¹ï¼‰

**åŠŸèƒ½**:
- é¡¯ç¤ºæ‰€æœ‰å¯ç”¨è¡Œæ¥­
- æ”¯æ´å¿«é€Ÿè¡Œæ¥­åˆ‡æ›
- ã€Œå…¨éƒ¨ã€é¸é …é¡¯ç¤ºæ‰€æœ‰è¡Œæ¥­çš„è‚¡ç¥¨

**è¡Œæ¥­åˆ—è¡¨** (14+ è¡Œæ¥­):
- åŠå°é«” (15+ æ”¯)
- é›»å­ (15+ æ”¯)
- é‡‘è (10+ æ”¯)
- é‹¼éµ (10+ æ”¯)
- æ±½è»Šé›¶ä»¶ (10+ æ”¯)
- é€ ç´™ (10+ æ”¯)
- å»ºæ (10+ æ”¯)
- é£Ÿå“ (10+ æ”¯)
- åŒ–å­¸ (10+ æ”¯)
- é›»æ©Ÿ (10+ æ”¯)
- ç´¡ç¹” (10+ æ”¯)
- é†«ç™‚ (10+ æ”¯)
- ... æ›´å¤š

### 2ï¸âƒ£ è¡Œæ¥­ç¯©é¸é‚è¼¯

```
ä½¿ç”¨è€…é¸æ“‡è¡Œæ¥­
    â†“
load_stocks_in_background() è¼‰å…¥è¡Œæ¥­åˆ—è¡¨
    â†“
on_industry_changed() äº‹ä»¶è§¸ç™¼
    â†“
refresh_stock_list() æ›´æ–°é¡¯ç¤º
    â†“
ç²å–è©²è¡Œæ¥­çš„æ‰€æœ‰è‚¡ç¥¨
    â†“
æ‡‰ç”¨æœå°‹æ¡†ç¯©é¸ï¼ˆå¦‚æœ‰ï¼‰
    â†“
åœ¨å·¦å´åˆ—è¡¨é¡¯ç¤ºçµæœ
```

### 3ï¸âƒ£ æœå°‹èˆ‡ç¯©é¸æµç¨‹

```
è¡Œæ¥­é¸æ“‡ â†’ æœå°‹æ¡†è¼¸å…¥
    â†“
é›™é‡ç¯©é¸:
  1. è¡Œæ¥­ç¯©é¸ (TAIWAN_STOCKS_BY_INDUSTRY[industry])
  2. æœå°‹ç¯©é¸ (code/name åŒ¹é…)
    â†“
é¡¯ç¤ºåŒ¹é…çµæœ
```

**ç¤ºä¾‹**:
- è¡Œæ¥­: ã€ŒåŠå°é«”ã€+ æœå°‹: ã€Œè¯ã€
  - çµæœ: è¯ç™¼ç§‘ã€è¯é›»ã€è¯è© 

- è¡Œæ¥­: ã€Œå…¨éƒ¨ã€+ æœå°‹: ã€Œå°ã€
  - çµæœ: å°ç©é›»ã€å°å¡‘ã€å°å¡‘åŒ–ã€å°ç£æ°´æ³¥ç­‰

---

## ğŸ”§ ç¨‹å¼ç¢¼å¯¦ç¾

### `taiwan_stock_crawler.py` æ›´æ–°

```python
# æ–°å¢è¡Œæ¥­åˆ†é¡è³‡æ–™çµæ§‹
TAIWAN_STOCKS_BY_INDUSTRY = {
    'åŠå°é«”': [
        ('2330', 'å°ç©é›»'),
        ('2454', 'è¯ç™¼ç§‘'),
        ('2303', 'è¯é›»'),
        # ...
    ],
    'é›»å­': [
        ('2317', 'é´»æµ·'),
        ('2382', 'å»£é”'),
        # ...
    ],
    # ... 12+ æ›´å¤šè¡Œæ¥­
}

class TaiwanStockCrawler:
    
    @staticmethod
    def get_industries() -> Dict[str, List[Tuple[str, str]]]:
        """
        å–å¾—æŒ‰è¡Œæ¥­åˆ¥åˆ†é¡çš„è‚¡ç¥¨æ¸…å–®
        è¿”å›: è¡Œæ¥­åˆ¥ -> è‚¡ç¥¨æ¸…å–®çš„å­—å…¸
        """
        return TAIWAN_STOCKS_BY_INDUSTRY
    
    def search_stocks(
        self, 
        keyword: str, 
        industry: Optional[str] = None
    ) -> List[Tuple[str, str]]:
        """
        æœå°‹è‚¡ç¥¨ï¼ˆæ”¯æ´è¡Œæ¥­ç¯©é¸ï¼‰
        
        Args:
            keyword: æœå°‹é—œéµå­—
            industry: æŒ‡å®šè¡Œæ¥­ç¯©é¸ï¼ˆè‹¥ç‚º None å‰‡æœå°‹å…¨éƒ¨ï¼‰
        
        Returns:
            ç¬¦åˆçš„è‚¡ç¥¨åˆ—è¡¨
        """
        keyword = keyword.upper().strip()
        results = []
        
        # é¸æ“‡æœå°‹ç¯„åœ
        if industry and industry in TAIWAN_STOCKS_BY_INDUSTRY:
            stocks_to_search = TAIWAN_STOCKS_BY_INDUSTRY[industry]
        else:
            # æœå°‹æ‰€æœ‰è¡Œæ¥­
            stocks_to_search = []
            for ind_stocks in TAIWAN_STOCKS_BY_INDUSTRY.values():
                stocks_to_search.extend(ind_stocks)
        
        # åŸ·è¡Œæœå°‹
        for code, name in stocks_to_search:
            if keyword in code or keyword in name:
                results.append((code, name))
        
        return results
```

### `stock_monitor_gui.py` æ›´æ–°

```python
class StockMonitorGUI:
    
    def setup_left_panel(self, parent):
        """å»ºç«‹å·¦å´è‚¡ç¥¨æ¸…å–®é¢æ¿"""
        left_frame = ttk.LabelFrame(parent, text="ğŸ“ˆ è‚¡ç¥¨æ¸…å–®", padding=5)
        parent.add(left_frame, weight=1)
        
        # æ–°å¢: è¡Œæ¥­åˆ¥ç¯©é¸æ¡†
        industry_frame = ttk.Frame(left_frame)
        industry_frame.pack(fill=tk.X, pady=(0, 5))
        
        ttk.Label(industry_frame, text="ğŸ­ è¡Œæ¥­åˆ¥:").pack(side=tk.LEFT, padx=5)
        self.industry_var = tk.StringVar(value="å…¨éƒ¨")
        self.industry_combo = ttk.Combobox(
            industry_frame,
            textvariable=self.industry_var,
            state="readonly",
            width=15
        )
        self.industry_combo.pack(side=tk.LEFT, padx=5)
        self.industry_combo.bind("<<ComboboxSelected>>", self.on_industry_changed)
        
        # ... å…¶ä»–ä»£ç¢¼ ...
    
    def on_industry_changed(self, *args):
        """è¡Œæ¥­åˆ¥è®Šæ›´æ™‚è§¸ç™¼"""
        self.refresh_stock_list()
    
    def load_stocks_in_background(self):
        """åœ¨èƒŒæ™¯ç·šç¨‹è¼‰å…¥è‚¡ç¥¨æ¸…å–®"""
        def load_task():
            try:
                self.all_stocks = self.crawler.load_stock_list()
                
                # æ–°å¢: å»ºç«‹è¡Œæ¥­åˆ—è¡¨
                industries = list(self.crawler.get_industries().keys())
                industries.insert(0, "å…¨éƒ¨")
                self.root.after(
                    0, 
                    lambda: self.industry_combo.config(values=industries)
                )
                self.root.after(
                    0, 
                    lambda: self.industry_combo.set("å…¨éƒ¨")
                )
                
                self.root.after(0, self.refresh_stock_list)
                self.root.after(
                    0, 
                    lambda: self.status_label.config(
                        text="å°±ç·’", 
                        foreground="green"
                    )
                )
            except Exception as e:
                self.root.after(
                    0, 
                    lambda: messagebox.showerror("éŒ¯èª¤", f"è¼‰å…¥å¤±æ•—: {e}")
                )
        
        thread = threading.Thread(target=load_task, daemon=True)
        thread.start()
    
    def refresh_stock_list(self):
        """åˆ·æ–°è‚¡ç¥¨æ¸…å–®é¡¯ç¤º"""
        # æ¸…ç©º
        for item in self.stock_tree.get_children():
            self.stock_tree.delete(item)
        
        # å–å¾—é¸ä¸­çš„è¡Œæ¥­
        selected_industry = self.industry_var.get()
        
        # æ±ºå®šè¦é¡¯ç¤ºçš„è‚¡ç¥¨
        if selected_industry == "å…¨éƒ¨":
            stocks_to_display = self.all_stocks
        else:
            # å¾ç‰¹å®šè¡Œæ¥­ç¯©é¸
            industries_dict = self.crawler.get_industries()
            if selected_industry in industries_dict:
                stocks_to_display = industries_dict[selected_industry]
            else:
                stocks_to_display = []
        
        # æœå°‹ç¯©é¸
        search_text = self.search_var.get().lower()
        for code, name in stocks_to_display:
            if search_text in code.lower() or search_text in name.lower():
                self.stock_tree.insert('', 'end', values=(code, name))
```

---

## ğŸ“Š è¡Œæ¥­è³‡æ–™çµæ§‹

### è¡Œæ¥­åˆ†é¡å®Œæ•´æ¸…å–®

```python
TAIWAN_STOCKS_BY_INDUSTRY = {
    # 14+ è¡Œæ¥­åˆ†é¡
    
    'åŠå°é«”': [
        ('2330', 'å°ç©é›»'),      # å°ç£æœ€å¤§åŠå°é«”å…¬å¸
        ('2454', 'è¯ç™¼ç§‘'),      # æ‰‹æ©Ÿ IC é¾é ­
        ('2303', 'è¯é›»'),        # æ™¶åœ“ä»£å·¥
        ('3711', 'æ—¥æœˆå…‰'),      # IC å°æ¸¬
        ('2379', 'ç‘æ˜±'),        # éŸ³é » IC
        ('3009', 'æ¬£èˆˆ'),        # PCB
        ('8016', 'çŸ½å‰µ'),        # IC è¨­è¨ˆ
        ('3034', 'è¯è© '),        # è§¸æ§ IC
        ('2325', 'çŸ½æ ¼'),        # IC æ¸¬è©¦
        ('2340', 'ä¸€åŠ›'),        # åŠå°é«”è¨­å‚™
        ('3014', 'è¯é™½'),        # é¡æ¯” IC
        ('3265', 'é€šå˜‰'),        # é€šè¨Š IC
        # ... æ›´å¤š
    ],
    
    'é›»å­': [
        ('2317', 'é´»æµ·'),        # é›»å­è£½é€ é¾é ­
        ('2382', 'å»£é”'),        # ç­†é›»ä»£å·¥
        ('2498', 'å®é”åœ‹éš›'),    # æ‰‹æ©Ÿè£½é€ 
        # ... æ›´å¤š
    ],
    
    'é‡‘è': [
        ('2891', 'ä¸­ä¿¡é‡‘'),      # é‡‘èæ§è‚¡
        # ... æ›´å¤š
    ],
    
    'é‹¼éµ': [
        ('2002', 'ä¸­é‹¼'),        # é‹¼éµé¾é ­
        # ... æ›´å¤š
    ],
    
    # ... 10+ æ›´å¤šè¡Œæ¥­
}
```

---

## ğŸ¯ ä½¿ç”¨å ´æ™¯

### å ´æ™¯ 1ï¼šç›£æ§ç‰¹å®šè¡Œæ¥­

```
1. é¸æ“‡ã€ŒåŠå°é«”ã€è¡Œæ¥­
2. æŸ¥çœ‹æ‰€æœ‰ 15+ åŠå°é«”è‚¡ç¥¨
3. æœå°‹ã€Œè¯ã€ï¼Œå¿«é€Ÿæ‰¾åˆ°è¯ç™¼ç§‘ã€è¯é›»
4. åŠ å…¥è§€å¯Ÿæ¸…å–®
5. è‡ªå‹•æ›´æ–°ç›£æ§
```

### å ´æ™¯ 2ï¼šå°æ¯”å¤šè¡Œæ¥­é¾é ­

```
1. é¸æ“‡ã€ŒåŠå°é«”ã€ï¼ŒåŠ å…¥å°ç©é›»
2. åˆ‡æ›åˆ°ã€Œé›»å­ã€ï¼ŒåŠ å…¥é´»æµ·
3. åˆ‡æ›åˆ°ã€Œé‡‘èã€ï¼ŒåŠ å…¥ä¸­ä¿¡é‡‘
4. å³å´è§€å¯Ÿæ¸…å–®é¡¯ç¤ºä¸‰æ”¯è‚¡ç¥¨
5. ç›£æ§ä¸åŒè¡Œæ¥­çš„é¾é ­è¡¨ç¾
```

### å ´æ™¯ 3ï¼šå…¨å¸‚å ´æœå°‹ç‰¹å®šè‚¡ç¥¨

```
1. é¸æ“‡ã€Œå…¨éƒ¨ã€è¡Œæ¥­
2. æœå°‹ç‰¹å®šè‚¡ç¥¨ä»£ç¢¼æˆ–åç¨±
3. å¿«é€Ÿå®šä½ä¸¦åŠ å…¥è§€å¯Ÿ
```

---

## âœ… æ¸¬è©¦é©—è­‰

- âœ… è¡Œæ¥­ä¸‹æ‹‰é¸å–®æ­£å¸¸è¼‰å…¥
- âœ… æ‰€æœ‰ 14+ è¡Œæ¥­é¸é …å¯è¦‹
- âœ… ã€Œå…¨éƒ¨ã€é¸é …åŠŸèƒ½æ­£å¸¸
- âœ… è¡Œæ¥­åˆ‡æ›è‡ªå‹•æ›´æ–°åˆ—è¡¨
- âœ… æœå°‹æ¡†åœ¨è¡Œæ¥­ç¯„åœå…§ç¯©é¸
- âœ… é›™é‡ç¯©é¸é‚è¼¯æ­£ç¢º
- âœ… åŠ å…¥/ç§»é™¤è§€å¯Ÿæ¸…å–®åŠŸèƒ½æ­£å¸¸
- âœ… è‡ªå‹•æ›´æ–°æ©Ÿåˆ¶æ­£å¸¸é‹ä½œ
- âœ… æ‰€æœ‰ä»£ç¢¼ç·¨è­¯ç„¡éŒ¯èª¤
- âœ… æ¨¡çµ„æˆåŠŸåŒ¯å…¥

---

## ğŸš€ å¾ŒçºŒæ“´å±•æ–¹å‘

### å¯èƒ½çš„æ”¹é€²

1. **å‹•æ…‹è¡Œæ¥­è³‡æ–™**
   - å¾ twstock API è®€å–è¡Œæ¥­åˆ†é¡
   - å®šæœŸæ›´æ–°è¡Œæ¥­æ’å

2. **è¡Œæ¥­çµ±è¨ˆ**
   - é¡¯ç¤ºè¡Œæ¥­å¹³å‡è‚¡åƒ¹
   - è¡Œæ¥­æ¼²è·Œå¹…çµ±è¨ˆ
   - è¡Œæ¥­æˆäº¤é‡å°æ¯”

3. **é€²éšç¯©é¸**
   - åƒ¹æ ¼å€é–“ç¯©é¸
   - æˆäº¤é‡ç¯©é¸
   - æ¼²è·Œå¹…ç¯©é¸

4. **æ”¶è—åŠŸèƒ½**
   - å„²å­˜è‡ªå®šç¾©è¡Œæ¥­çµ„åˆ
   - å¿«é€Ÿåˆ‡æ›é è¨­æ¸…å–®

5. **æ•¸æ“šå°å‡º**
   - æŒ‰è¡Œæ¥­å°å‡º CSV
   - æŒ‰è¡Œæ¥­ç”Ÿæˆå ±è¡¨

---

## ğŸ“š ç›¸é—œæ–‡æª”

- `GUI_ä½¿ç”¨æŒ‡å—.md` - å®Œæ•´ä½¿ç”¨èªªæ˜
- `taiwan_stock_crawler.py` - çˆ¬èŸ²æ¨¡çµ„ä»£ç¢¼
- `stock_monitor_gui.py` - GUI æ‡‰ç”¨ä»£ç¢¼
- `å®Œæˆç¸½çµ.md` - é …ç›®å®Œæˆç¸½çµ

---

## ğŸ“ å•é¡Œæ’æŸ¥

### Q: è¡Œæ¥­åˆ—è¡¨ç‚ºç©ºï¼Ÿ
**A**: æª¢æŸ¥ `taiwan_stock_crawler.py` ä¸­ `TAIWAN_STOCKS_BY_INDUSTRY` å­—å…¸æ˜¯å¦æ­£ç¢ºåˆå§‹åŒ–ã€‚

### Q: æœå°‹ä¸åˆ°è‚¡ç¥¨ï¼Ÿ
**A**: ç¢ºèªå·²é¸æ“‡æ­£ç¢ºè¡Œæ¥­ã€‚è‚¡ç¥¨æœå°‹ç¯„åœå—è¡Œæ¥­é™åˆ¶ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°è¡Œæ¥­ï¼Ÿ
**A**: ç·¨è¼¯ `taiwan_stock_crawler.py`ï¼Œåœ¨ `TAIWAN_STOCKS_BY_INDUSTRY` ä¸­æ·»åŠ æ–°è¡Œæ¥­ã€‚

---

*æœ€å¾Œæ›´æ–°: 2025-12-20*  
*åŠŸèƒ½ç‰ˆæœ¬: 1.1*  
*ä½œè€…: Copilot*

